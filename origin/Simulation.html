
<!-- saved from url=(0051)http://www.csie.ntnu.edu.tw/~u91029/Simulation.html -->
<html lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="./Simulation_files/style.css">
<title>演算法筆記 - Simulation</title></head><body>
<div class="a" id="1"><div class="h">
<p class="b">Simulation</p>
<p class="w">陽春召我以煙景，大塊假我以文章。《李白．春夜宴桃李園序》</p>
</div><div class="c">
<p class="t">Simulation</p>
<p>撰寫程式，模擬行為。沒有前例，那就創例。</p>
<p class="t">範例：印出直角三角形</p>
<img src="./Simulation_files/Simulation1.png">
<p>不加思索，窮舉試誤。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;n&nbsp;是三角形邊長</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_triangle</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;依序窮舉每一個位置，逐一判斷要印什麼。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">i</span><span>&nbsp;+&nbsp;</span><span class="word">j</span><span>&nbsp;&lt;&nbsp;</span><span class="word">n</span><span>&nbsp;-&nbsp;</span><span class="value">1</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'&nbsp;'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'@'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>分割概念，編排步驟。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_triangle</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;直角三角形分成多行</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;一行分成兩階段：空白、三角形</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">n</span><span>-</span><span class="word">i</span><span>-</span><span class="value">1</span><span>;&nbsp;</span><span class="word">j</span><span>++)&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'&nbsp;'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="word">n</span><span>-</span><span class="word">i</span><span>-</span><span class="value">1</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">j</span><span>++)&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'@'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>抽取概念，變成函式。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;一行：i&nbsp;是行數、n&nbsp;是三角形邊長</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_line</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;一行分成兩階段：空白、三角形</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">n</span><span>-</span><span class="word">i</span><span>-</span><span class="value">1</span><span>;&nbsp;</span><span class="word">j</span><span>++)&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'&nbsp;'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="word">n</span><span>-</span><span class="word">i</span><span>-</span><span class="value">1</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">j</span><span>++)&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'@'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_triangle</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">print_line</span><span>(</span><span class="word">i</span><span>,&nbsp;</span><span class="word">n</span><span>);</span></li><li><span>}</span></li></ol></div>
<p>抽取差異，變成參數。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;一串：n&nbsp;是長度、c&nbsp;是字元</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_sequence</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>,&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">c</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;++</span><span class="word">i</span><span>)&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">c</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;一行：i&nbsp;是行數、n&nbsp;是三角形邊長</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_line</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">print_sequence</span><span>(</span><span class="word">n</span><span>-</span><span class="word">i</span><span>-</span><span class="value">1</span><span>,&nbsp;</span><span class="char">'&nbsp;'</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">print_sequence</span><span>(</span><span class="word">i</span><span>&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;</span><span class="char">'@'</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_triangle</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">print_line</span><span>(</span><span class="word">i</span><span>,&nbsp;</span><span class="word">n</span><span>);</span></li><li><span>}</span></li></ol></div>
<p>對比排比，調整參數。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_sequence</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>,&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">c</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;++</span><span class="word">i</span><span>)&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">c</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;一行：s&nbsp;是空白長度、t&nbsp;是符號長度（兩者都是填充長度）</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_line</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">s</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">t</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">print_sequence</span><span>(</span><span class="word">s</span><span>,&nbsp;</span><span class="char">'&nbsp;'</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">print_sequence</span><span>(</span><span class="word">t</span><span>,&nbsp;</span><span class="char">'@'</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_triangle</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">print_line</span><span>(</span><span class="word">i</span><span>,&nbsp;</span><span class="word">n</span><span>-</span><span class="word">i</span><span>-</span><span class="value">1</span><span>);</span></li><li><span>}</span></li></ol></div>
<p>經過整頓，一目了然。容易閱讀，方便維護。</p>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/105/10550.html">10550</a></p>
<p class="t">範例：排隊上車</p>
<p>等車的人排成一列。人不時抵達，隊伍增長；車不時抵達，隊伍減短。請隨時記錄排隊隊伍依序是誰。</p>
<img src="./Simulation_files/Simulation2.png">
<p>分割概念，編排步驟。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">lineup</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">string</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">100000</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">head</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">tail</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">command</span><span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;讀指令</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">command</span><span>&nbsp;==&nbsp;</span><span class="string">"people"</span><span>)&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;先處理人</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">string</span><span>&nbsp;</span><span class="word">name</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;先讀指令</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">name</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">tail</span><span>]&nbsp;=&nbsp;</span><span class="word">name</span><span>;&nbsp;</span><span class="comment">//&nbsp;再做儲存</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">tail</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">command</span><span>&nbsp;==&nbsp;</span><span class="string">"car"</span><span>)&nbsp;&nbsp;</span><span class="comment">//&nbsp;再處理車</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">seat</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;先讀指令</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">seat</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">head</span><span>&nbsp;+=&nbsp;</span><span class="word">seat</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;再做儲存</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>抽取概念，變成函式。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="word">string</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">100000</span><span>];</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">head</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">tail</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;人來了</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">people</span><span>(</span><span class="word">string</span><span>&nbsp;</span><span class="word">name</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">tail</span><span>]&nbsp;=&nbsp;</span><span class="word">name</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">tail</span><span>++;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;車來了</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">car</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">seat</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">head</span><span>&nbsp;+=&nbsp;</span><span class="word">seat</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;只讀指令</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">lineup</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">command</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">command</span><span>&nbsp;==&nbsp;</span><span class="string">"people"</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">string</span><span>&nbsp;</span><span class="word">name</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">name</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">people</span><span>(</span><span class="word">name</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">command</span><span>&nbsp;==&nbsp;</span><span class="string">"car"</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">seat</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">seat</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">car</span><span>(</span><span class="word">seat</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>對比排比，調整函式。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="word">string</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">100000</span><span>];</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">head</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">tail</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;人來了</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">come</span><span>(</span><span class="word">string</span><span>&nbsp;</span><span class="word">name</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">tail</span><span>]&nbsp;=&nbsp;</span><span class="word">name</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">tail</span><span>++;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;對比排比之後，事情變得單純，容易考慮的更細膩。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">tail</span><span>&nbsp;&gt;=&nbsp;</span><span class="value">100000</span><span>)&nbsp;</span><span class="word">assert</span><span>(</span><span class="keyword">false</span><span>);</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;人走了</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">leave</span><span>()</span></li><li><span>{</span></li><li><span class="comment">//&nbsp;&nbsp;head++;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;對比排比之後，事情變得單純，容易考慮的更細膩。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">head</span><span>&nbsp;&lt;&nbsp;</span><span class="word">tail</span><span>)&nbsp;</span><span class="word">head</span><span>++;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;車來了</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">car</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">seat</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">seat</span><span>;&nbsp;++</span><span class="word">i</span><span>)&nbsp;</span><span class="word">leave</span><span>();</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">lineup</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">command</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">command</span><span>&nbsp;==&nbsp;</span><span class="string">"people"</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">string</span><span>&nbsp;</span><span class="word">name</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">name</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">come</span><span>(</span><span class="word">name</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">command</span><span>&nbsp;==&nbsp;</span><span class="string">"car"</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">seat</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">seat</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">car</span><span>(</span><span class="word">seat</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>連同資料，變成物件。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;排隊人生</span></li><li><span class="keyword">struct</span><span>&nbsp;</span><span class="word">Line</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">string</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">100000</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">head</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">tail</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">void</span><span>&nbsp;</span><span class="word">come</span><span>(</span><span class="word">string</span><span>&nbsp;</span><span class="word">name</span><span>);&nbsp;</span><span class="comment">//&nbsp;人來了</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">void</span><span>&nbsp;</span><span class="word">leave</span><span>();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;人走了</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">void</span><span>&nbsp;</span><span class="word">car</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">seat</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;車來了</span></li><li><span>};</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">Line</span><span>::</span><span class="word">come</span><span>(</span><span class="word">string</span><span>&nbsp;</span><span class="word">name</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">tail</span><span>]&nbsp;=&nbsp;</span><span class="word">name</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">tail</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">tail</span><span>&nbsp;&gt;=&nbsp;</span><span class="value">100000</span><span>)&nbsp;</span><span class="word">assert</span><span>(</span><span class="keyword">false</span><span>);</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">Line</span><span>::</span><span class="word">leave</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">head</span><span>&nbsp;&lt;&nbsp;</span><span class="word">tail</span><span>)&nbsp;</span><span class="word">head</span><span>++;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">Line</span><span>::</span><span class="word">car</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">seat</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">seat</span><span>;&nbsp;++</span><span class="word">i</span><span>)&nbsp;</span><span class="word">leave</span><span>();</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">lineup</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">Line</span><span>&nbsp;</span><span class="word">line</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">command</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">command</span><span>&nbsp;==&nbsp;</span><span class="string">"people"</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">string</span><span>&nbsp;</span><span class="word">name</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">name</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">line</span><span>.</span><span class="word">come</span><span>(</span><span class="word">name</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">command</span><span>&nbsp;==&nbsp;</span><span class="string">"car"</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">seat</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">seat</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">line</span><span>.</span><span class="word">car</span><span>(</span><span class="word">seat</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>聯想他物，發明模型。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">struct</span><span>&nbsp;</span><span class="word">MultipopQueue</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">string</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">100000</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">head</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">tail</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">void</span><span>&nbsp;</span><span class="word">push</span><span>(</span><span class="word">string</span><span>&nbsp;</span><span class="word">name</span><span>);&nbsp;</span><span class="comment">//&nbsp;原本是人來了</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">void</span><span>&nbsp;</span><span class="word">pop</span><span>();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;原本是人走了</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">void</span><span>&nbsp;</span><span class="word">multipop</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>);&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;原本是車來了</span></li><li><span>};</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">template</span><span>&nbsp;</span><span class="keyword">class</span><span>&lt;</span><span class="word">T</span><span>&gt;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;資料型別抽象化（從特例變通例）</span></li><li><span class="keyword">class</span><span>&nbsp;</span><span class="word">MultipopQueue</span></li><li><span>{</span></li><li><span class="keyword">private</span><span>:</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">T</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">100000</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">head</span><span>,&nbsp;</span><span class="word">tail</span><span>;</span></li><li><span class="keyword">public</span><span>:</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">MultipopQueue</span><span>():&nbsp;</span><span class="word">head</span><span>(</span><span class="value">0</span><span>),&nbsp;</span><span class="word">tail</span><span>(</span><span class="value">0</span><span>)&nbsp;{}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">void</span><span>&nbsp;</span><span class="word">push</span><span>(</span><span class="keyword">const</span><span>&nbsp;</span><span class="word">T</span><span>&amp;&nbsp;</span><span class="word">name</span><span>);&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;用特殊語法，做補充說明</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">void</span><span>&nbsp;</span><span class="word">pop</span><span>();</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">void</span><span>&nbsp;</span><span class="word">multipop</span><span>(</span><span class="keyword">const</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>);&nbsp;</span><span class="comment">//&nbsp;用特殊語法，做補充說明</span></li><li><span>};</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/102/10267.html">10267</a> <a href="http://uva.onlinejudge.org/external/4/476.html">476</a> <a href="http://uva.onlinejudge.org/external/4/477.html">477</a> <a href="http://uva.onlinejudge.org/external/4/478.html">478</a></p>
<p class="t">範例：轉骰子</p>
<p>請辨別兩顆骰子一不一樣。骰子經過旋轉後，如果六個對應的面，上面的點數皆相同，則骰子視為相同。</p>
<p>要辨別兩顆骰子一不一樣，一種方式是旋轉其中一顆骰子，再跟另一顆比對。必須將骰子所有可能的情形都轉出來才行。</p>
<img src="./Simulation_files/Simulation3.png">
<p>骰子有六個面：上下前後左右。建立六個變數、或者六格的陣列，分別儲存六個面的點數。陣列的第 0 格存入上面的點數、第 1 格存左面的點數、 …… 。當然也可以採用不同的儲存方法。</p>
<p>骰子有三種旋轉方向：東西方向、南北方向、時鐘方向。我個人偏好的轉法是：東西方向轉一圈，順時針方向轉一圈，南北方向轉一下，以上動作循環四次，就能轉出所有情形。</p>
<p>亦得採用其他轉法，最好的轉法只需轉 24 次，讀者可以想想看怎麼做。</p>
<p>亦得預先計算所有旋轉結果，儲存於 lookup table ，以節省旋轉時間。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;往西轉一下</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">turn_west</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">dice</span><span>[</span><span class="value">6</span><span>])</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">temp</span><span>&nbsp;=&nbsp;</span><span class="word">dice</span><span>[</span><span class="value">1</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">dice</span><span>[</span><span class="value">1</span><span>]&nbsp;=&nbsp;</span><span class="word">dice</span><span>[</span><span class="value">2</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">dice</span><span>[</span><span class="value">2</span><span>]&nbsp;=&nbsp;</span><span class="word">dice</span><span>[</span><span class="value">3</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">dice</span><span>[</span><span class="value">3</span><span>]&nbsp;=&nbsp;</span><span class="word">dice</span><span>[</span><span class="value">4</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">dice</span><span>[</span><span class="value">4</span><span>]&nbsp;=&nbsp;</span><span class="word">temp</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;六個面是否一一對應</span></li><li><span class="type">bool</span><span>&nbsp;</span><span class="word">equal</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">a</span><span>[</span><span class="value">6</span><span>],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">b</span><span>[</span><span class="value">6</span><span>])</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">6</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">a</span><span>[</span><span class="word">i</span><span>]&nbsp;!=&nbsp;</span><span class="word">b</span><span>[</span><span class="word">i</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">false</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;兩顆骰子是否相同</span></li><li><span class="type">bool</span><span>&nbsp;</span><span class="word">check</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">a</span><span>[</span><span class="value">6</span><span>],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">b</span><span>[</span><span class="value">6</span><span>])</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">4</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">4</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">turn_west</span><span>();</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">equal</span><span>(</span><span class="word">a</span><span>,</span><span class="word">b</span><span>))&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">4</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">turn_clockwise</span><span>();</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">equal</span><span>(</span><span class="word">a</span><span>,</span><span class="word">b</span><span>))&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">turn_north</span><span>();</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">equal</span><span>(</span><span class="word">a</span><span>,</span><span class="word">b</span><span>))&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">false</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/2/253.html">253</a> <a href="http://uva.onlinejudge.org/external/108/10877.html">10877</a></p>
<p class="t">範例：踩地雷</p>
<p>試著用程式模擬踩地雷吧！</p>
<img src="./Simulation_files/Simulation4.png">
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/101/10189.html">10189</a> <a href="http://uva.onlinejudge.org/external/102/10279.html">10279</a> <a href="http://uva.onlinejudge.org/external/111/11142.html">11142</a> ICPC <a href="http://icpcarchive.ecs.baylor.edu/external/43/4335.pdf">4335</a></p>
<p class="t">範例：撲克牌</p>
<p>試著用程式模擬各種撲克牌遊戲吧！</p>
<img src="./Simulation_files/Simulation5.png">
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/1/127.html">127</a> <a href="http://uva.onlinejudge.org/external/1/131.html">131</a> <a href="http://uva.onlinejudge.org/external/1/162.html">162</a> <a href="http://uva.onlinejudge.org/external/1/170.html">170</a> <a href="http://uva.onlinejudge.org/external/1/178.html">178</a> <a href="http://uva.onlinejudge.org/external/1/181.html">181</a> <a href="http://uva.onlinejudge.org/external/4/451.html">451</a> <a href="http://uva.onlinejudge.org/external/4/462.html">462</a> <a href="http://uva.onlinejudge.org/external/5/555.html">555</a></p>
<p class="t">範例：下棋</p>
<p>試著用程式模擬各種棋吧！</p>
<img src="./Simulation_files/Simulation6.png">
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/2/220.html">220</a> <a href="http://uva.onlinejudge.org/external/8/852.html">852</a> <a href="http://uva.onlinejudge.org/external/101/10196.html">10196</a> <a href="http://uva.onlinejudge.org/external/103/10363.html">10363</a> <a href="http://uva.onlinejudge.org/external/109/10996.html">10996</a> <a href="http://uva.onlinejudge.org/external/112/11210.html">11210</a> <a href="http://uva.onlinejudge.org/external/15/1589.html">1589</a></p>
<p class="t">範例：試算表</p>
<p>試著用程式模擬試算表吧！</p>
<img src="./Simulation_files/Simulation7.png">
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/1/196.html">196</a> <a href="http://uva.onlinejudge.org/external/2/215.html">215</a> <a href="http://uva.onlinejudge.org/external/5/512.html">512</a></p>

</div></div><div class="a" id="2"><div class="h">
<p class="b">Modeling</p>
<p class="w">前事不忘，後事之師。《戰國策》</p>
</div><div class="c">
<p class="t">Modeling</p>
<p>把問題對應到耳熟能詳的模型，套用既有模型解決新問題。</p>
<p class="t">範例：平行四邊形面積</p>
<p>小學數學老師教過：長方形的面積是「長乘寬」。儘管不知道原因，不過這個公式肯定是正確的。那麼，請問平行四邊形面積如何計算？</p>
<img src="./Simulation_files/Modeling1.png">
<p>把平行四邊形凸出的三角形切下來，補在另一邊，平行四邊形就變成了長方形。想要計算平行四邊形面積，可以直接套用長方形面積公式。</p>
<p>平行四邊形的底，就是長方形的長；平行四邊形的高，就是長方形的寬。平行四邊形的元件，一一對應到長方形。</p>
<p class="t">範例：約瑟夫問題（ Josephus Problem ）</p>
<p>8 個人圍成一圈，現在從第一個人開始報數，數到第 5 人時，就殺死這第 5 人；然後從被殺的下一位繼續重新報數，數到第 5 人時，就殺死這第 5 人。如此不斷數 5 人、殺此人，直到最後會剩下一個人，請問他是誰？</p>
<img src="./Simulation_files/Modeling2.png">
<p>數人和殺人的動作可以對應到佇列（ queue ）的操作。首先把每個人依序放進佇列，接著連續 pop 和 push 4 人，接著 pop 第 5 人時，不要將他放回佇列裡面即可！</p>
<img src="./Simulation_files/Modeling3.png">
<p class="t">範例：用圖論作為模型，模擬小畫家倒墨水。</p>
<p>圖論的觀點之下， Flood Fill Algorithm 其實就是運用 Depth-first Search 找到 Connected Component 。</p>
<img src="./Simulation_files/Modeling4.png">
<p class="t">範例： System of Difference Constraints in Linear Programming</p>
<img src="./Simulation_files/Modeling5.png">
<p>問題：給定變數 x1 到 xN ，並給定一些 xi-xj≤c 的式子，作為條件限制。請判斷有沒有解，如果有解就求出其中一組解。</p>
<p>這個問題可以巧妙的轉換成最短路徑問題。 x1 到 xN 看作是圖上的 N 個點，一條 xi-xj≤c 的限制式子看作是一條 xj 到 xi 的邊，其權重是 c 。</p>
<p>如果無解，那麼圖上有負環。如果有解，那麼圖上各點的最短路徑長度就是其中一組解。為了讓圖上各點都有最短路徑長度值，可參考 Johnson's Algorithm 的做法。</p>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/5/515.html">515</a> ICPC <a href="http://icpcarchive.ecs.baylor.edu/external/20/2058.pdf">2058</a></p>
<p class="t">範例： Sentiment Relation in Social Balance Theory</p>
<p>從前有一位心理學者認為，人與人之間的關係，可以粗略分為兩種：互相喜歡、互相討厭。這種關係稱作 Sentiment Relation ，是一種雙向關係，而且擁有喜歡與討厭兩種類型。假使兩人之間好惡分明，沒有亦敵亦友的情況，就會形成 Sentiment Relation 。</p>
<pre>   like            hate
A&lt;------&gt;B      A&lt;------&gt;B
</pre>
<p>另外 Sentiment Relation 還具有相當特殊的性質，有點像是 transitivity 、 symmetry 、 antisymmetry 的總合。這種性質的最佳寫照，諸如同仇敵愾、合縱連橫等等，翻成白話就是這樣：</p>
<pre>1. 朋友的朋友就是我的朋友。
2. 朋友的敵人就是我的敵人。
3. 敵人的朋友就是我的敵人。
4. 敵人的敵人就是我的朋友。
</pre>
<p>在 Sentiment Relation 所形成的社交結構當中，如果產生了好與惡的矛盾，那麼這樣的社交結構就是不平衡的；如果好與惡合理，那麼這樣的社交結構就是平衡的。心理學者相信，當社交結構不平衡的時候，個體會嘗試改變自己的觀點，讓社交結構趨向平衡。</p>
<pre>balance:

      A                A           like   like
like / \ like    hate / \ hate      ----A----
    /   \            /   \         /  ha|te  \
   B-----C          B-----C       B-----C-----D
     like             like         hate   hate
 
imbalance:

      A                A           like   like
hate / \ hate    like / \ like      ----A----
    /   \            /   \         /  ha|te  \
   B-----C          B-----C       B-----C-----D
     hate             hate         like   like
</pre>
<p>後來心理學者進一步發現，當社交結構達到平衡，所有人可以分成兩大陣營，使得陣營內部的關係都是互相喜歡，陣營與陣營之間的關係都是互相討厭。</p>
<img src="./Simulation_files/Modeling6.png">
<p>說了這麼多終於要提到重點。現在問題來了，假設社交結構是平衡的，而我們也知道一些兩兩相互喜歡、相互討厭的資訊時，我們該如何確認誰在同一陣營、誰在不同陣營呢？</p>
<p>一、以 Bipartite Graph 作為模型：</p>
<p>把社交結構看作是 Bipartite Graph ， Bipartite Graph 的兩側分別是兩大陣營。首先利用 Graph Traversal 走訪喜歡的邊，找出所有連通分量，並各自縮成一點。然後再度利用 Graph Traversal 走訪討厭的邊，嘗試建立 Bipartite Graph ，如果無法建立則表示社交結構不平衡。</p>
<p>二、以聯集為基礎來建立新模型：</p>
<pre>當x與y是朋友：
　x及朋友、y及朋友，都是好朋友。
　x的敵人、y的敵人，都是好朋友。

當x與y是敵人：
　x及朋友、y的敵人，都是好朋友。
　x的敵人、y及朋友，都是好朋友。
</pre>
<p>用 Disjoint Sets 的 union ，把好朋友們聯集在一起。要判斷同一陣營，就看看大家是不是同一群好朋友；要判斷不同陣營，就看看對方的敵人是不是跟自己是同一群好朋友。由於一開始每個人都沒有敵人，所以替每個人都設定一個虛擬的假想敵。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="macro">#define&nbsp;_x&nbsp;(x&nbsp;+&nbsp;100)&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;x的假想敵</span></li><li><span class="macro">#define&nbsp;_y&nbsp;(y&nbsp;+&nbsp;100)&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;y的假想敵</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;Disjoint-sets&nbsp;Forest</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">p</span><span>[</span><span class="value">100</span><span>&nbsp;+&nbsp;</span><span class="value">100</span><span>];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;前百人為本尊，後百人為假想敵。</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">init</span><span>()&nbsp;{</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">200</span><span>;&nbsp;++</span><span class="word">i</span><span>)&nbsp;</span><span class="word">p</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">i</span><span>;}</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">find</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>)&nbsp;{</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">x</span><span>&nbsp;==&nbsp;</span><span class="word">p</span><span>[</span><span class="word">x</span><span>]&nbsp;?&nbsp;</span><span class="word">x</span><span>&nbsp;:&nbsp;(</span><span class="word">p</span><span>[</span><span class="word">x</span><span>]&nbsp;=&nbsp;</span><span class="word">find</span><span>(</span><span class="word">p</span><span>[</span><span class="word">x</span><span>]));}</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="keyword">union</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">y</span><span>)&nbsp;{</span><span class="word">p</span><span>[</span><span class="word">find</span><span>(</span><span class="word">x</span><span>)]&nbsp;=&nbsp;</span><span class="word">find</span><span>(</span><span class="word">y</span><span>);}</span></li><li>&nbsp;</li><li><span class="type">bool</span><span>&nbsp;</span><span class="word">if_like</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">y</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">find</span><span>(</span><span class="word">x</span><span>)&nbsp;==&nbsp;</span><span class="word">find</span><span>(</span><span class="word">y</span><span>);</span></li><li><span class="comment">//&nbsp;&nbsp;return&nbsp;find(_x)&nbsp;==&nbsp;find(_y);</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="type">bool</span><span>&nbsp;</span><span class="word">if_hate</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">y</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">find</span><span>(</span><span class="word">x</span><span>)&nbsp;==&nbsp;</span><span class="word">find</span><span>(</span><span class="word">_y</span><span>);</span></li><li><span class="comment">//&nbsp;&nbsp;return&nbsp;find(_x)&nbsp;==&nbsp;find(y);</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;結交朋友</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">like</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">y</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">if_hate</span><span>(</span><span class="word">x</span><span>,&nbsp;</span><span class="word">y</span><span>))&nbsp;</span><span class="keyword">return</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;imbalance</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">union</span><span>(</span><span class="word">x</span><span>,&nbsp;</span><span class="word">y</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">union</span><span>(</span><span class="word">_x</span><span>,&nbsp;</span><span class="word">_y</span><span>);</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;樹立敵人</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">hate</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">y</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">if_like</span><span>(</span><span class="word">x</span><span>,&nbsp;</span><span class="word">y</span><span>))&nbsp;</span><span class="keyword">return</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;imbalance</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">union</span><span>(</span><span class="word">x</span><span>,&nbsp;</span><span class="word">_y</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">union</span><span>(</span><span class="word">_x</span><span>,&nbsp;</span><span class="word">y</span><span>);</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/101/10158.html">10158</a> <a href="http://uva.onlinejudge.org/external/105/10505.html">10505</a> <a href="http://uva.onlinejudge.org/external/106/10608.html">10608</a></p>
<p class="t">範例：點燈遊戲（ Lights Out Puzzle ）（ Minimum All-Ones Problem ）</p>
<p><a href="http://oddest.nc.hcc.edu.tw/math171.htm"> http://oddest.nc.hcc.edu.tw/math171.htm </a></p>
<p>嘗試熄滅（或點燃）所有燈。按下任何一個開關，都會連帶影響自己及其四周的燈，亮變暗、暗變亮。</p>
<p>無論同時按或分開按、先按或後按，造成的影響都一樣。一個開關按兩次，將相互抵銷，如同按零次。</p>
<p>一、以函數當作模型，函數是各盤面之間的關聯： g( 舊盤面 ) =  新盤面， g 為一種按開關的方式。這種模型相當常見，但是不適用此題。</p>
<p>二、以函數當作模型，函數是開關和盤面的對應關係： f( 按下的開關 ) =  盤面， f 是遊戲規則。</p>
<p>只要求出 f 的反函數，就可以用盤面判斷按下的開關。巧妙的是， f 是線性函數，故可以解線性方程組來找到反函數。解線性方程組可以用「<a href="http://www.csie.ntnu.edu.tw/~u91029/LinearEquation.html">高斯消去法</a>」。</p>
<pre>加法運算：f(同時按下開關A和B) = f(按下開關A) + f(按下開關B)。設定成xor。
倍率運算：f(按下開關A一共k次) = k f(按下開關A)。k模二之後，設定成and。
</pre>
<p>然而 f 不見得有反函數，端看遊戲規則和盤面形狀。當 f 有反函數，無論盤面長得如何，都一定有解。當 f 沒有反函數時，則難以確定盤面是否有解，屬於 NP-complete 問題。</p>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/103/10309.html">10309</a> <a href="http://uva.onlinejudge.org/external/103/10318.html">10318</a> ICPC <a href="http://icpcarchive.ecs.baylor.edu/external/80/8045.pdf">8045</a></p>
<p class="t">Reduction</p>
<p>套用模型當中，有一種情況是：原問題是某一個問題的特例。套用通例，解決特例，稱作「歸約」。</p>
<p>因為通例相對複雜、特例相對單純，所以原問題極可能存在更快更好的解法。</p>
<p class="t">範例：最短間距（ Minimum Gap Problem ）</p>
<p>一條鐵道，沿途設站。已知里程，請找出距離最近的兩站。</p>
<img src="./Simulation_files/Modeling7.png">
<p>以數線作為模型，鐵道對應到數線、車站對應到點座標，距離最近的兩站對應到「數線上距離最近的兩個點」。</p>
<p>想要解決「數線上距離最近的兩個點」，可以套用先前介紹的「平面上距離最近的兩個點」。這兩個問題的本質是相同的，前者是一維版本，後者是二維版本；前者是特例，後者是通例。</p>
<p>只要把每個車站的座標，增加一個維度，該維度的數值通通設定為相同數值，然後計算「平面上距離最近的兩個點」，就得到距離最近的兩站。</p>
<p>「數線上距離最近的兩個點」是特例、「平面上距離最近的兩個點」是通例，我們有機會替「數線上距離最近的兩個點」找到計算時間更短、更有效率的演算法。</p>
<p class="t">範例：用生命遊戲作為模型，模擬生命遊戲。</p>
<iframe src="./Simulation_files/QtJ77qsLrpw.html"></iframe>

</div></div><div class="a" id="3"><div class="h">
<p class="b">Programming: <br> Array Indexing</p>
</div><div class="c">
<p class="t">Array Indexing</p>
<p>「索引」是電腦的絕技！一個元素存放到陣列之後，不論是在陣列的哪個地方，只要利用索引值（ index ），就能一瞬間找到元素。大多數的演算法都運用了「索引」的技巧，讓程式執行速度更快。</p>
<p>以下介紹索引的常見運用方式。</p>
<p class="t">一、定位</p>
<p>將物件放入陣列中， array[ 位置 ] =  物件。</p>
<p>當元素很多時，我們可以放到陣列裡。我們只要記錄索引值，依舊可以常數時間得到元素。</p>
<p class="t">範例：求最大值</p>
<p>將元素連續地放入陣列，若想記錄一元素，僅需一索引值。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">find_maximum</span><span>()&nbsp;</span><span class="comment">//&nbsp;用變數直接記最大值</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">max</span><span>&nbsp;=&nbsp;-</span><span class="value">10000</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;&nbsp;</span><span class="word">max</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">max</span><span>&nbsp;=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"最大值為"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">max</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">find_maximum</span><span>()&nbsp;</span><span class="comment">//&nbsp;用索引值記錄最大值位置</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">p</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;最大值的索引值</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">p</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">p</span><span>&nbsp;=&nbsp;</span><span class="word">i</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"最大值為"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">p</span><span>];</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：求子字串</p>
<p>將元素連續地放入陣列，若想記錄一區間，僅需頭尾的索引值。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">substring</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">10</span><span>]&nbsp;=&nbsp;</span><span class="string">"Hello,&nbsp;world!"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">t</span><span>[</span><span class="value">10</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>,&nbsp;</span><span class="word">j</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">i</span><span>=</span><span class="value">2</span><span>,&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">6</span><span>;&nbsp;</span><span class="word">i</span><span>++,&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">j</span><span>]&nbsp;=&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">j</span><span>]&nbsp;=&nbsp;</span><span class="char">'\0'</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"s的子字串[2,6)是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">t</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：連續數字和</p>
<p>將元素連續地放入陣列，利用問題本身的數學性質以及索引值，快速得到答案。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">consecutive_sum</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">0</span><span>};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>[</span><span class="value">0</span><span>]&nbsp;=&nbsp;</span><span class="word">array</span><span>[</span><span class="value">0</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">sum</span><span>[</span><span class="word">i</span><span>-</span><span class="value">1</span><span>]&nbsp;+&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"區間[2,4]的連續數字和是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">sum</span><span>[</span><span class="value">4</span><span>]&nbsp;-&nbsp;</span><span class="word">sum</span><span>[</span><span class="value">2</span><span>-</span><span class="value">1</span><span>];</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：求中位數</p>
<p>將元素依照大小順序並連續地放入陣列，利用索引值得到位於中間的元素。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">median</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">1</span><span>,&nbsp;</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">9</span><span>};&nbsp;</span><span class="comment">//&nbsp;由小到大排序</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"中位數是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>/</span><span class="value">2</span><span>];</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：二分搜尋法（ Binary Search ）</p>
<p>將元素依照大小順序並連續地放入陣列，然後夾擠索引值。</p>
<p>如果元素放入串列，則沒有索引值，無法使用二分搜尋法。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">binary_search</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">1</span><span>,&nbsp;</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">9</span><span>};&nbsp;</span><span class="comment">//&nbsp;由小到大排序</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">pivot</span><span>&nbsp;=&nbsp;</span><span class="value">3</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;搜尋陣列裡有沒有3</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">left</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">right</span><span>&nbsp;=&nbsp;</span><span class="value">4</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;索引值範圍</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">left</span><span>&nbsp;&lt;=&nbsp;</span><span class="word">right</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">mid</span><span>&nbsp;=&nbsp;(</span><span class="word">left</span><span>&nbsp;+&nbsp;</span><span class="word">right</span><span>)&nbsp;/&nbsp;</span><span class="value">2</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">mid</span><span>]&nbsp;&lt;&nbsp;</span><span class="word">pivot</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">left</span><span>&nbsp;=&nbsp;</span><span class="word">mid</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">mid</span><span>]&nbsp;&gt;&nbsp;</span><span class="word">pivot</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">right</span><span>&nbsp;=&nbsp;</span><span class="word">mid</span><span>&nbsp;-&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">mid</span><span>]&nbsp;==&nbsp;</span><span class="word">pivot</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">mid</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;-</span><span class="value">1</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;找不到</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：二元樹（ Binary Tree ）</p>
<p>元素的索引值對應到樹的結構，是一種特殊的定位。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;得到array[index]的左邊小孩的索引值</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">left_child_index</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">index</span><span>)&nbsp;{</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">index</span><span>&nbsp;*&nbsp;</span><span class="value">2</span><span>;}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;得到array[index]的右邊小孩的索引值</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">right_child_index</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">index</span><span>)&nbsp;{</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">index</span><span>&nbsp;*&nbsp;</span><span class="value">2</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span>;}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">binary_tree</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span>]&nbsp;=&nbsp;{</span><span class="value">0</span><span>,&nbsp;</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};&nbsp;&nbsp;</span><span class="comment">//&nbsp;array[0]不使用</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"根為"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="value">1</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"根的左邊小孩是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[&nbsp;</span><span class="word">left_child_index</span><span>(</span><span class="value">1</span><span>)&nbsp;];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"根的右邊小孩是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[&nbsp;</span><span class="word">right_child_index</span><span>(</span><span class="value">1</span><span>)&nbsp;];</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：堆疊（ stack ）、佇列（ queue ）</p>
<p>元素連續地放入陣列，然後以改變索引值的方式，來動態增減堆疊及佇列的元素。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">stack</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">stack</span><span>[</span><span class="value">10</span><span>];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;一個堆疊</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">top</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;索引值</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">stack</span><span>[</span><span class="word">top</span><span>++]&nbsp;=&nbsp;</span><span class="value">3</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;push</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">stack</span><span>[</span><span class="word">top</span><span>++]&nbsp;=&nbsp;</span><span class="value">6</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;push</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">top</span><span>&nbsp;&gt;&nbsp;</span><span class="value">0</span><span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;is&nbsp;empty?</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="word">stack</span><span>[--</span><span class="word">top</span><span>];&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;pop</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">queue</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">stack</span><span>[</span><span class="value">10</span><span>];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;一個佇列</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">front</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">rear</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;索引值</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">queue</span><span>[</span><span class="word">rear</span><span>++]&nbsp;=&nbsp;</span><span class="value">3</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;push</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">queue</span><span>[</span><span class="word">rear</span><span>++]&nbsp;=&nbsp;</span><span class="value">6</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;push</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">front</span><span>&nbsp;&lt;&nbsp;</span><span class="word">rear</span><span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;is&nbsp;empty?</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="word">queue</span><span>[</span><span class="word">front</span><span>++];&nbsp;</span><span class="comment">//&nbsp;pop</span></li><li><span>}</span></li></ol></div>
<p class="t">二、歸類並標記</p>
<p>物件直接作為陣列的索引值， array[ 物件 ] =  物件的屬性。</p>
<p class="t">範例：正整數集合</p>
<p>物件：正整數。物件的屬性：是否在集合裡頭出現。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">add_element</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;一個有限集合</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">bool</span><span>&nbsp;</span><span class="word">set</span><span>[</span><span class="value">100</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;初始化為空集合</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">100</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">set</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="keyword">false</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;設定集合元素</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">set</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;</span><span class="keyword">true</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;集合裡有5</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">set</span><span>[</span><span class="value">3</span><span>]&nbsp;=&nbsp;</span><span class="keyword">true</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;集合裡有3</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">set</span><span>[</span><span class="value">3</span><span>]&nbsp;=&nbsp;</span><span class="keyword">false</span><span>;&nbsp;</span><span class="comment">//&nbsp;集合裡沒有3</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：統計英文字母出現次數</p>
<p>物件：英文字母。物件的屬性：英文字母的出現次數。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">count_letter</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">20</span><span>]&nbsp;=&nbsp;</span><span class="string">"hi,&nbsp;I&nbsp;am&nbsp;a&nbsp;boy"</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;歸類並標記</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;26個字母，字母的ASCII值剛好連續。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">count</span><span>[</span><span class="value">26</span><span>&nbsp;+&nbsp;</span><span class="value">26</span><span>]&nbsp;=&nbsp;{</span><span class="value">0</span><span>};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;!=&nbsp;</span><span class="char">'\0'</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;=&nbsp;</span><span class="char">'a'</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;=&nbsp;</span><span class="char">'z'</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">count</span><span>[&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;-&nbsp;</span><span class="char">'a'</span><span>&nbsp;]++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;=&nbsp;</span><span class="char">'A'</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;=&nbsp;</span><span class="char">'Z'</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">count</span><span>[&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;-&nbsp;</span><span class="char">'A'</span><span>&nbsp;]++;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出英文字母的出現次數，不分大小寫。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">26</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">count</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="type">char</span><span>(</span><span class="char">'A'</span><span>&nbsp;+&nbsp;</span><span class="word">i</span><span>)&nbsp;&lt;&lt;&nbsp;</span><span class="string">"的個數為"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">count</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：計數排序法（ Counting Sort ）</p>
<p>索引值的大小順序，恰是元素的大小順序，亦可用於排序。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">counting_sort</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;假設陣列裡數值不重複</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;歸類並標記</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">bool</span><span>&nbsp;</span><span class="word">count</span><span>[</span><span class="value">100</span><span>]&nbsp;=&nbsp;{</span><span class="keyword">false</span><span>};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">count</span><span>[&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;]&nbsp;=&nbsp;</span><span class="keyword">true</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;索引值的大小順序，恰是元素的大小順序。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>,&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">100</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">count</span><span>[</span><span class="word">i</span><span>])&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;數值不重複</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">j</span><span>++]&nbsp;=&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：雜湊表（ Hash Table ）</p>
<p>元素的索引值由特殊方法決定，是一種特殊的歸類。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">hash</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)&nbsp;</span><span class="comment">//&nbsp;根據元素的數值來製造一個index</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;*&nbsp;</span><span class="value">97</span><span>&nbsp;%&nbsp;</span><span class="value">100</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">hash_table</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">table</span><span>[</span><span class="value">100</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;替array[i]製造一個index</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">index</span><span>&nbsp;=&nbsp;</span><span class="word">hash</span><span>(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;將array[i]放入hash&nbsp;table</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">table</span><span>[</span><span class="word">index</span><span>]&nbsp;=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p class="t">三、轉換</p>
<p>array[ 物件 ] =  另一個物件。概念等同數學術語「函數」。</p>
<p class="t">範例：取代（ substitution ）、移位（ transposition ）</p>
<p>密碼學的基礎概念。取代是文字的轉換，移位是位置的轉換。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">substitution</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">10</span><span>]&nbsp;=&nbsp;</span><span class="string">"Hello!"</span><span>,&nbsp;</span><span class="word">t</span><span>[</span><span class="value">10</span><span>]&nbsp;=&nbsp;</span><span class="string">""</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;建立轉換表格</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">crypt</span><span>[</span><span class="value">128</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">128</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">crypt</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">crypt</span><span>[</span><span class="char">'!'</span><span>]&nbsp;=&nbsp;</span><span class="char">'w'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">crypt</span><span>[</span><span class="char">'H'</span><span>]&nbsp;=&nbsp;</span><span class="char">'Y'</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;開始轉換</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">n</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">n</span><span>]&nbsp;!=&nbsp;</span><span class="char">'\0'</span><span>;&nbsp;</span><span class="word">n</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">n</span><span>]&nbsp;=&nbsp;</span><span class="word">crypt</span><span>[&nbsp;</span><span class="word">s</span><span>[</span><span class="word">n</span><span>]&nbsp;];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">n</span><span>]&nbsp;=&nbsp;</span><span class="char">'\0'</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">transposition</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">10</span><span>]&nbsp;=&nbsp;</span><span class="string">"Hello!"</span><span>,&nbsp;</span><span class="word">t</span><span>[</span><span class="value">10</span><span>]&nbsp;=&nbsp;</span><span class="string">""</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;建立轉換表格</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">crypt</span><span>[</span><span class="value">50</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">50</span><span>;&nbsp;++</span><span class="word">i</span><span>)&nbsp;</span><span class="word">crypt</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">crypt</span><span>[</span><span class="value">2</span><span>]&nbsp;=&nbsp;</span><span class="value">3</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">crypt</span><span>[</span><span class="value">3</span><span>]&nbsp;=&nbsp;</span><span class="value">5</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">crypt</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;</span><span class="value">2</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;開始轉換</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">n</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">n</span><span>]&nbsp;!=&nbsp;</span><span class="char">'\0'</span><span>;&nbsp;</span><span class="word">n</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">n</span><span>]&nbsp;=&nbsp;</span><span class="word">crypt</span><span>[&nbsp;</span><span class="word">s</span><span>[</span><span class="word">n</span><span>]&nbsp;];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">n</span><span>]&nbsp;=&nbsp;</span><span class="char">'\0'</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">定址的時間複雜度</p>
<p>當索引值大小為 N ，有人認為定址的時間複雜度是 O(log₂N) ，也有人認為是 O(1) 。兩種說法都有依據。</p>
<p>以數學的觀點來看： N 總共有 log₂N 個位元，運用二元樹的觀念，依照各個位元的數值是 0 或是 1 進行分枝，分枝到底後就完成定址了。所以定址的時間複雜度是 O(log₂N) 。</p>
<p>以電路的觀點來看：一顆中央處理器可以平行處理 32 位元（現在已有 64 位元），只要是介於 0 到 2³²-1 的索引值，都可以在 1 單位時間完成定址，而不必用 32 單位時間來完成定址。所以定址的時間複雜度是 O(1) 。</p>
<p>大家傾向假設定址的時間複雜度是 O(1) 。</p>
<p class="t">定址的範圍</p>
<p>方才提到一顆中央處理器可以平行處理 32 位元，理論上可以定址到 2³² 以內的位址。一個位址一般擁有 1byte 的記憶體大小，所以可以運用的記憶體就有 2³²byte = 4GB  這麼多。</p>
<p>但是作業系統會保留一些位址、預留一些記憶體空間以維持系統運作，所以使用者實際可以運用的記憶體其實不到 4GB 。</p>
<p>當記憶體沒有插到 4GB 的時候，作業系統利用一種叫做 virtual memory 的技術，以硬碟空間補足記憶體不足 4GB 的部份。</p>
<p>位址是連續不斷的，我們寫程式也都直接假設位址對應到的記憶體空間是連續不斷的，然而實際上並不是連續的。作業系統運用一種叫做 paging 的技術，藉由 page table ，讓記憶體看起來是連續的。</p>

</div></div><div class="a" id="4"><div class="h">
<p class="b">Programming: <br> Recursion</p>
</div><div class="c">
<p class="t">Recursion</p>
<p>在函式內部呼叫原本的函式，叫做「遞迴」。</p>
<p>遞迴與迴圈一樣，將一件事情重複很多次，每次都改變一點點。遞迴與迴圈一樣，必須設定起始條件、結束條件、改變量，以避免無窮遞迴。</p>
<p class="t">範例：階乘</p>
<p>1 乘以 2 乘以 3…… 乘以 n 。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">factorial</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">value</span><span>&nbsp;=&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;起始條件、結束條件、改變量</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>&nbsp;=&nbsp;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>&nbsp;&gt;=&nbsp;</span><span class="value">1</span><span>;&nbsp;--</span><span class="word">i</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">value</span><span>&nbsp;*=&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">value</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">factorial</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;起始條件</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">1</span><span>)&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="value">1</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;結束條件</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;*&nbsp;</span><span class="word">factorial</span><span>(</span><span class="word">n</span><span>&nbsp;-&nbsp;</span><span class="value">1</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;改變量</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">factorial</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">0</span><span>&nbsp;?&nbsp;</span><span class="value">1</span><span>&nbsp;:&nbsp;</span><span class="word">n</span><span>&nbsp;*&nbsp;</span><span class="word">factorial</span><span>(</span><span class="word">n</span><span>&nbsp;-&nbsp;</span><span class="value">1</span><span>);</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：兔子數列</p>
<p>0 1 1 2 3 5 8…… ，求第 n 項。公式 f(n) = f(n-1) + f(n-2) 。</p>
<p>迴圈輔以堆疊才能樹狀分枝。遞迴可以輕易地樹狀分枝。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">fibonacci</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">value</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">stack</span><span>&lt;</span><span class="type">int</span><span>&gt;&nbsp;</span><span class="word">s</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">s</span><span>.</span><span class="word">push</span><span>(</span><span class="word">n</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(!</span><span class="word">stack</span><span>.</span><span class="word">empty</span><span>())</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="word">s</span><span>.</span><span class="word">top</span><span>();&nbsp;</span><span class="word">s</span><span>.</span><span class="word">pop</span><span>();</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">value</span><span>&nbsp;+=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">1</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">value</span><span>&nbsp;+=&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">s</span><span>.</span><span class="word">push</span><span>(</span><span class="word">n</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">s</span><span>.</span><span class="word">push</span><span>(</span><span class="word">n</span><span>-</span><span class="value">1</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">value</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">fibonacci</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">0</span><span>)&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">1</span><span>)&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;輕鬆建立兩個分枝</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">fibonacci</span><span>(</span><span class="word">n</span><span>&nbsp;-&nbsp;</span><span class="value">1</span><span>)&nbsp;+&nbsp;</span><span class="word">fibonacci</span><span>(</span><span class="word">n</span><span>&nbsp;-&nbsp;</span><span class="value">2</span><span>);</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/1/110.html">110</a> <a href="http://uva.onlinejudge.org/external/1/177.html">177</a> <a href="http://uva.onlinejudge.org/external/1/183.html">183</a> <a href="http://uva.onlinejudge.org/external/8/839.html">839</a></p>

</div></div><div class="a" id="5"><div class="h">
<p class="b">Programming: <br> Metaprogramming</p>
</div><div class="c">
<p class="t">Metaprogramming</p>
<p>設計一支程式來製造程式碼，令該程式碼充分運用程式語言自身擁有的能力，輕鬆地、更有效率地完成更多事情。</p>
<p class="t">範例：四則運算式</p>
<pre>5 + 8 × (2 - 3) + 7 × -6 / (2 - 1) + 1
</pre>
<p>身經百戰的演算法設計高手，必然不假思索說出： stack ，把所有符號依序放入 stack ，依照運算符號的優先次序 push 和 pop 。聽來簡單，實作起來還是頗麻煩。</p>
<p>這裡要介紹的是更輕鬆、更強悍的方法：寫程式製造一支會進行四則運算的程式。大家都知道 C/C++ 的語法當中，就有四則運算的語法了。現在來設計一支程式，製作出四則運算的程式碼吧！</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">arithmetic</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;輸入四則運算式</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">string</span><span>&nbsp;</span><span class="word">s</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">s</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;製作程式碼</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">ofstream</span><span>&nbsp;</span><span class="word">fout</span><span>(</span><span class="string">"temp.cpp"</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"#include&nbsp;&lt;iostream&gt;\n"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"int&nbsp;main()\n"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"{\n"</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"&nbsp;&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;("</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">s</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">")&nbsp;&lt;&lt;&nbsp;endl;\n"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"&nbsp;&nbsp;&nbsp;return&nbsp;0;\n"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"}\n"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fout</span><span>.</span><span class="word">close</span><span>();</span></li><li><span>}</span></li></ol></div>
<p>如果輸入方才的四則運算式，就會產生如下程式碼，檔名為 temp.cpp 。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="macro">#include&nbsp;&lt;iostream&gt;</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">main</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">std</span><span>::</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;(</span><span class="value">5</span><span>&nbsp;+&nbsp;</span><span class="value">8</span><span>&nbsp;*&nbsp;(</span><span class="value">2</span><span>&nbsp;-&nbsp;</span><span class="value">3</span><span>)&nbsp;+&nbsp;</span><span class="value">7</span><span>&nbsp;*&nbsp;-</span><span class="value">6</span><span>&nbsp;/&nbsp;(</span><span class="value">2</span><span>&nbsp;-&nbsp;</span><span class="value">1</span><span>)&nbsp;+&nbsp;</span><span class="value">1</span><span>)&nbsp;&lt;&lt;&nbsp;</span><span class="word">endl</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>然後編譯 temp.cpp 、執行一下，就有答案了。甚至可以把編譯、執行的指令，統統寫進程式碼當中：</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">arithmetic</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;輸入四則運算式</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;......</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;製作程式碼</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;......</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;編譯和執行（在Linux底下）</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">system</span><span>(</span><span class="string">"g++&nbsp;temp.cpp&nbsp;-o&nbsp;temp.out"</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">system</span><span>(</span><span class="string">"./temp.out"</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;刪除暫存檔案</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">system</span><span>(</span><span class="string">"rm&nbsp;temp.out"</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">system</span><span>(</span><span class="string">"rm&nbsp;temp.cpp"</span><span>);</span></li><li><span>}</span></li></ol></div>
<p class="t">範例： quine</p>
<p>一支程式，其功能是輸出本身程式碼。純娛樂。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="macro">#include&nbsp;&lt;cstdio&gt;</span></li><li><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[]=</span><span class="string">"#include&nbsp;&lt;cstdio&gt;%cchar&nbsp;s[]=%c%s%c;%cint&nbsp;main(){printf(s,10,34,s,34,10,10);retrun&nbsp;0;}%c"</span><span>;</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">main</span><span>(){</span><span class="word">printf</span><span>(</span><span class="word">s</span><span>,</span><span class="value">10</span><span>,</span><span class="value">34</span><span>,</span><span class="word">s</span><span>,</span><span class="value">34</span><span>,</span><span class="value">10</span><span>,</span><span class="value">10</span><span>);</span><span class="keyword">return</span><span>&nbsp;</span><span class="value">0</span><span>;}</span></li><li>&nbsp;</li></ol></div>
<p class="t">Template Metaprogramming</p>
<p>C 有個功能叫 macro ，可以代換程式碼。 C++ 有個更厲害的功能叫 template ，可以代換並且遞迴展開程式碼。</p>
<p>運用 template ，編譯時期即可計算答案，令答案變成程式碼的一部分；執行時期不必花時間計算，直接印出答案！</p>
<p>不過這是個怪招，平常沒人這樣做，大家當作娛樂看看就好。儘管在 C++ 裡面是怪招，但是在 Haskell 裡面卻是基本功。</p>
<p class="t">範例：階乘</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;正常的寫法</span></li><li><span class="comment">//&nbsp;factorial(0)&nbsp;得到&nbsp;1</span></li><li><span class="comment">//&nbsp;factorial(4)&nbsp;得到&nbsp;24</span></li><li><span class="type">unsigned</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">factorial</span><span>(</span><span class="type">unsigned</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">0</span><span>&nbsp;?&nbsp;</span><span class="value">1</span><span>&nbsp;:&nbsp;</span><span class="word">n</span><span>&nbsp;*&nbsp;</span><span class="word">factorial</span><span>(</span><span class="word">n</span><span>&nbsp;-&nbsp;</span><span class="value">1</span><span>);&nbsp;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;奇葩的寫法</span></li><li><span class="keyword">template</span><span>&nbsp;&lt;</span><span class="type">unsigned</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&gt;</span></li><li><span class="keyword">struct</span><span>&nbsp;</span><span class="word">factorial</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">const</span><span>&nbsp;</span><span class="type">unsigned</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">value</span><span>&nbsp;=&nbsp;</span><span class="word">n</span><span>&nbsp;*&nbsp;</span><span class="word">factorial</span><span>&lt;</span><span class="word">n</span><span>&nbsp;-&nbsp;</span><span class="value">1</span><span>&gt;::</span><span class="word">value</span><span>;</span></li><li><span>};</span></li><li>&nbsp;</li><li><span class="keyword">template</span><span>&nbsp;&lt;&gt;</span></li><li><span class="keyword">struct</span><span>&nbsp;</span><span class="word">factorial</span><span>&lt;</span><span class="value">0</span><span>&gt;</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="keyword">const</span><span>&nbsp;</span><span class="type">unsigned</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">value</span><span>&nbsp;=&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>};</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;factorial&lt;0&gt;::value&nbsp;得到&nbsp;1</span></li><li><span class="comment">//&nbsp;factorial&lt;4&gt;::value&nbsp;得到&nbsp;24</span></li></ol></div>
</div></div><script src="./Simulation_files/h.js.下载"></script><div class="m" style="left: 0px;"><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/index.html">◀ Index</a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/Simulation.html#1">Simulation</a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/Simulation.html#2">Modeling</a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/Simulation.html#3">Programming:<br>Array Indexing</a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/Simulation.html#4">Programming:<br>Recursion</a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/Simulation.html#5">Programming:<br>Metaprogramming</a></div></div></body></html>